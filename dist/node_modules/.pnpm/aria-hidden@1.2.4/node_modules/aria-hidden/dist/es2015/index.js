var D = Object.defineProperty;
var i = (r, u) => D(r, "name", { value: u, configurable: !0 });
var E = /* @__PURE__ */ i(function(r) {
  if (typeof document > "u")
    return null;
  var u = Array.isArray(r) ? r[0] : r;
  return u.ownerDocument.body;
}, "getDefaultParent"), c = /* @__PURE__ */ new WeakMap(), p = /* @__PURE__ */ new WeakMap(), h = {}, l = 0, b = /* @__PURE__ */ i(function(r) {
  return r && (r.host || b(r.parentNode));
}, "unwrapHost"), C = /* @__PURE__ */ i(function(r, u) {
  return u.map(function(e) {
    if (r.contains(e))
      return e;
    var n = b(e);
    return n && r.contains(n) ? n : (console.error("aria-hidden", e, "in not contained inside", r, ". Doing nothing"), null);
  }).filter(function(e) {
    return !!e;
  });
}, "correctTargets"), O = /* @__PURE__ */ i(function(r, u, e, n) {
  var f = C(u, Array.isArray(r) ? r : [r]);
  h[e] || (h[e] = /* @__PURE__ */ new WeakMap());
  var s = h[e], y = [], v = /* @__PURE__ */ new Set(), k = new Set(f), A = /* @__PURE__ */ i(function(t) {
    !t || v.has(t) || (v.add(t), A(t.parentNode));
  }, "keep");
  f.forEach(A);
  var w = /* @__PURE__ */ i(function(t) {
    !t || k.has(t) || Array.prototype.forEach.call(t.children, function(a) {
      if (v.has(a))
        w(a);
      else
        try {
          var o = a.getAttribute(n), d = o !== null && o !== "false", M = (c.get(a) || 0) + 1, W = (s.get(a) || 0) + 1;
          c.set(a, M), s.set(a, W), y.push(a), M === 1 && d && p.set(a, !0), W === 1 && a.setAttribute(e, "true"), d || a.setAttribute(n, "true");
        } catch (S) {
          console.error("aria-hidden: cannot operate on ", a, S);
        }
    });
  }, "deep");
  return w(u), v.clear(), l++, function() {
    y.forEach(function(t) {
      var a = c.get(t) - 1, o = s.get(t) - 1;
      c.set(t, a), s.set(t, o), a || (p.has(t) || t.removeAttribute(n), p.delete(t)), o || t.removeAttribute(e);
    }), l--, l || (c = /* @__PURE__ */ new WeakMap(), c = /* @__PURE__ */ new WeakMap(), p = /* @__PURE__ */ new WeakMap(), h = {});
  };
}, "applyAttributeToOthers"), q = /* @__PURE__ */ i(function(r, u, e) {
  e === void 0 && (e = "data-aria-hidden");
  var n = Array.from(Array.isArray(r) ? r : [r]), f = E(r);
  return f ? (n.push.apply(n, Array.from(f.querySelectorAll("[aria-live]"))), O(n, f, e, "aria-hidden")) : function() {
    return null;
  };
}, "hideOthers");
export {
  q as hideOthers
};
